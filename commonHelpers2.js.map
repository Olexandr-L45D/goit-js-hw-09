{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["\n\nlet formData = {\n     email: \"\", message: \"\" };\n\nconst formTrackChanges = document.querySelector(\".feedback-form\");\nconst localStorageKey = \"feedback-form-state\";\n\nwindow.addEventListener('load', function () {\n  const storData = JSON.parse(this.localStorage.getItem(localStorageKey));\n  if (storData) {\n      Array.from(formTrackChanges.elements).forEach(function(element) {\n          if (element.name && storData[element.name]) {\n              element.value = storData[element.name];\n              formData[element.name] = storData[element.name];\n          }\n      });\n  }\n});\n\nformTrackChanges.addEventListener('input', function (event) {\n  if (event.target.name === 'email' || event.target.name === 'message') {\n      formData[event.target.name] = event.target.value.trim();\n      localStorage.setItem(localStorageKey, JSON.stringify(formData));\n  };\n});\n\nformTrackChanges.addEventListener(\"submit\", (evt) => {\n  evt.preventDefault();\n  localStorage.removeItem(localStorageKey);\n  const { email, message} = evt.currentTarget.elements; \n  const valueContent = {\n    email: email.value.trim(),\n    message: message.value.trim(),\n  };\n    if ( email.value.trim()  === \"\" || message.value.trim()  === \"\") {\n      alert(\"All form fields must be filled in\") \n      return;\n    }\n    console.log(valueContent);\n  formTrackChanges.reset();\n});\n\n"],"names":["formData","formTrackChanges","localStorageKey","storData","element","event","evt","email","message","valueContent"],"mappings":"wFAEA,IAAIA,EAAW,CACV,MAAO,GAAI,QAAS,IAEzB,MAAMC,EAAmB,SAAS,cAAc,gBAAgB,EAC1DC,EAAkB,sBAExB,OAAO,iBAAiB,OAAQ,UAAY,CAC1C,MAAMC,EAAW,KAAK,MAAM,KAAK,aAAa,QAAQD,CAAe,CAAC,EAClEC,GACA,MAAM,KAAKF,EAAiB,QAAQ,EAAE,QAAQ,SAASG,EAAS,CACxDA,EAAQ,MAAQD,EAASC,EAAQ,IAAI,IACrCA,EAAQ,MAAQD,EAASC,EAAQ,IAAI,EACrCJ,EAASI,EAAQ,IAAI,EAAID,EAASC,EAAQ,IAAI,EAE5D,CAAO,CAEP,CAAC,EAEDH,EAAiB,iBAAiB,QAAS,SAAUI,EAAO,EACtDA,EAAM,OAAO,OAAS,SAAWA,EAAM,OAAO,OAAS,aACvDL,EAASK,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAAM,OACjD,aAAa,QAAQH,EAAiB,KAAK,UAAUF,CAAQ,CAAC,EAEpE,CAAC,EAEDC,EAAiB,iBAAiB,SAAWK,GAAQ,CACnDA,EAAI,eAAc,EAClB,aAAa,WAAWJ,CAAe,EACvC,KAAM,CAAE,MAAAK,EAAO,QAAAC,CAAO,EAAIF,EAAI,cAAc,SACtCG,EAAe,CACnB,MAAOF,EAAM,MAAM,KAAM,EACzB,QAASC,EAAQ,MAAM,KAAM,CACjC,EACI,GAAKD,EAAM,MAAM,SAAY,IAAMC,EAAQ,MAAM,KAAM,IAAM,GAAI,CAC/D,MAAM,mCAAmC,EACzC,MACD,CACD,QAAQ,IAAIC,CAAY,EAC1BR,EAAiB,MAAK,CACxB,CAAC"}